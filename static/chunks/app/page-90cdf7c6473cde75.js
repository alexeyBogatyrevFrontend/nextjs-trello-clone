(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3837:function(e,t,s){Promise.resolve().then(s.bind(s,9676)),Promise.resolve().then(s.bind(s,6735))},2259:function(e,t,s){"use strict";s.d(t,{ID:function(){return a.ID},UA:function(){return d},tO:function(){return r}});var a=s(7332);let n=new a.KU;n.setEndpoint("https://cloud.appwrite.io/v1").setProject("651a938298d077a2ffed"),new a.mR(n);let d=new a.Lg(n),r=new a.Ke(n)},9676:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return components_Board}});var a=s(7437),n=s(582),d=s(2265),r=s(5187),l=s(4092),o=s(2259);let getUrl=async e=>{let t=o.tO.getFilePreview(e.bucketId,e.fileId);return t};var i=s(6091),c=s(6691),u=s.n(c),components_TodoCard=e=>{let{todo:t,index:s,id:r,innerRef:l,draggableProps:o,dragHandleProps:c}=e,m=(0,n.Y)(e=>e.deleteTask),[p,f]=(0,d.useState)(null);return(0,d.useEffect)(()=>{if(t.image){let fetchImage=async()=>{let e=await getUrl(t.image);e&&f(e.toString())};fetchImage()}},[t]),(0,a.jsxs)("div",{className:"bg-white rounded-md space-y-2 drop-shadow-md",...o,...c,ref:l,children:[(0,a.jsxs)("div",{className:"flex justify-between items-center p-5",children:[(0,a.jsx)("p",{children:t.title}),(0,a.jsx)("button",{className:" text-red-500 hover:text-red-600",onClick:()=>m(s,t,r),children:(0,a.jsx)(i.Z,{className:"ml-5 h-8 w-8"})})]}),p&&(0,a.jsx)("div",{className:"relative h-full w-full rounded-b-md",children:(0,a.jsx)(u(),{src:p,alt:"Task image",width:400,height:200,className:"w-full object-contain rounded-b-md"})})]})},m=s(3234);let p={todo:"To Do",inprogress:"In Progress",done:"done"};var components_Column=e=>{let{id:t,todos:s,index:d}=e,[o,i]=(0,n.Y)(e=>[e.searchString,e.setNewTaskType]),[c]=(0,m.a)(e=>[e.openModal]),handleAddTodo=()=>{i(t),c()};return(0,a.jsx)(r._l,{draggableId:t,index:d,children:e=>(0,a.jsx)("div",{...e.draggableProps,...e.dragHandleProps,ref:e.innerRef,children:(0,a.jsx)(r.bK,{droppableId:d.toString(),type:"card",children:(e,n)=>(0,a.jsxs)("div",{...e.droppableProps,ref:e.innerRef,className:"p-2 rounded-2xl shadow-sm ".concat(n.isDraggingOver?"bg-green-200":"bg-white/50"),children:[(0,a.jsxs)("h2",{className:"flex justify-between font-bold text-xl p-2",children:[p[t],(0,a.jsx)("span",{className:"text-gray-500 bg-gray-200 rounded-full px-2 py-1 text-sm font-normal",children:o?s.filter(e=>e.title.toLowerCase().includes(o.toLowerCase())).length:s.length})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[s.map((e,s)=>o&&!e.title.toLowerCase().includes(o.toLowerCase())?null:(0,a.jsx)(r._l,{draggableId:e.$id,index:s,children:n=>(0,a.jsx)(components_TodoCard,{todo:e,index:s,id:t,innerRef:n.innerRef,draggableProps:n.draggableProps,dragHandleProps:n.dragHandleProps})},e.$id)),e.placeholder,(0,a.jsx)("div",{className:"flex items-end justify-end p-2",children:(0,a.jsx)("button",{className:"text-green-500 hover:text-green-600",onClick:handleAddTodo,children:(0,a.jsx)(l.Z,{className:"h-10 w-10"})})})]})]})})})})},components_Board=()=>{let[e,t,s,l]=(0,n.Y)(e=>[e.board,e.getBoard,e.setBoardState,e.updateTodoInDb]);return(0,d.useEffect)(()=>{t()},[t]),(0,a.jsx)(r.Z5,{onDragEnd:t=>{let{destination:a,source:n,type:d}=t;if(!a)return;if("column"===d){let t=Array.from(e.columns.entries()),[d]=t.splice(n.index,1);t.splice(a.index,0,d);let r=new Map(t);s({...e,columns:r})}let r=Array.from(e.columns),o=r[Number(n.droppableId)],i=r[Number(a.droppableId)],c={id:o[0],todos:o[1].todos},u={id:i[0],todos:i[1].todos};if(!c||!u||n.index===a.index&&c===u)return;let m=c.todos,[p]=m.splice(n.index,1);if(c.id===u.id){m.splice(a.index,0,p);let t={id:c.id,todos:m},n=new Map(e.columns);n.set(c.id,t),s({...e,columns:n})}else{let t=Array.from(u.todos);t.splice(a.index,0,p);let n=new Map(e.columns),d={id:c.id,todos:m};n.set(c.id,d),n.set(u.id,{id:u.id,todos:t}),l(p,u.id),s({...e,columns:n})}},children:(0,a.jsx)(r.bK,{droppableId:"board",direction:"horizontal",type:"column",children:t=>(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5 max-w-7xl mx-auto p-4",...t.droppableProps,ref:t.innerRef,children:Array.from(e.columns.entries()).map((e,t)=>{let[s,n]=e;return(0,a.jsx)(components_Column,{id:s,todos:n.todos,index:t},s)})})})})}},6735:function(e,t,s){"use strict";s.r(t);var a=s(7437),n=s(582),d=s(7379),r=s(6378),l=s(6691),o=s.n(l);s(2265);var i=s(4032);t.default=()=>{let[e,t]=(0,n.Y)(e=>[e.searchString,e.setSearchString]);return(0,a.jsxs)("header",{children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row items-center p-5 bg-gray-500/10 rounded-b-2xl",children:[(0,a.jsx)("div",{className:"absolute top-0 left-0 w-full h-96 bg-gradient-to-br from-pink-400 to-[#0055d1] rounded-md filter blur-3xl opacity-50 -z-50"}),(0,a.jsx)(o(),{src:"https://links.papareact.com/c2cdd5",alt:"Trello log",width:300,height:100,className:"w-44 md:w-56 pb-10 md:pb-0 object-contain"}),(0,a.jsxs)("div",{className:"flex items-center space-x-5 flex-1 justify-end w-full",children:[(0,a.jsxs)("form",{className:"flex items-center space-x-5 bg-white rounded-md p-2 shadow-md flex-1 md:flex-initial",children:[(0,a.jsx)(d.Z,{className:"h-6 w-6 to-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Search",value:e,className:"flex-1 outline-none p-2",onChange:e=>t(e.target.value)}),(0,a.jsx)("button",{type:"submit",hidden:!0,children:"Search"})]}),(0,a.jsx)(i.ZP,{name:"Alexey Bogatyrev",round:!0,size:"50",color:"#0055d1"})]})]}),(0,a.jsx)("div",{className:"flex items-center justify-center px-5 py-2 md:py-5",children:(0,a.jsxs)("p",{className:"flex items-center p-5 text-sm font-light pr-5 shadow-xl rounded-xl w-fit bg-white italic max-w-3xl text-[#0055d1]",children:[(0,a.jsx)(r.Z,{className:"inline-block h-10 w-10 text-[#0055d1] mr-1"}),"GPT is summarising your tasks for the day..."]})})]})}},582:function(e,t,s){"use strict";s.d(t,{Y:function(){return d}});var a=s(2259);let getTodosGroupedByColumn=async()=>{let e=await a.UA.listDocuments("651a951c53cfe3fb41ce","651a9538bd918bd864f0"),t=e.documents,s=t.reduce((e,t)=>(e.get(t.status)||e.set(t.status,{id:t.status,todos:[]}),e.get(t.status).todos.push({$id:t.$id,$createdAt:t.$createdAt,title:t.title,status:t.status,...t.image&&{image:JSON.parse(t.image)}}),e),new Map),n=["todo","inprogress","done"];for(let e of n)s.get(e)||s.set(e,{id:e,todos:[]});let d=new Map(Array.from(s.entries()).sort((e,t)=>n.indexOf(e[0])-n.indexOf(t[0])));return{columns:d}},uploadImage=async e=>{if(!e)return;let t=await a.tO.createFile("651a965aa4c888a6b9dd",a.ID.unique(),e);return t};var n=s(4660);let d=(0,n.Ue)(e=>({board:{columns:new Map},searchString:"",setSearchString:t=>e({searchString:t}),getBoard:async()=>{let t=await getTodosGroupedByColumn();e({board:t})},newTaskInput:"",setNewTaskInput:t=>e({newTaskInput:t}),newTaskType:"todo",setNewTaskType:t=>e({newTaskType:t}),image:null,setImage:t=>e({image:t}),setBoardState:t=>e({board:t}),deleteTask:async(t,s,n)=>{var r;let l=new Map(d.getState().board.columns);null===(r=l.get(n))||void 0===r||r.todos.splice(t,1),e({board:{columns:l}}),s.image&&await a.tO.deleteFile(s.image.bucketId,s.image.fileId),await a.UA.deleteDocument("651a951c53cfe3fb41ce","651a9538bd918bd864f0",s.$id)},updateTodoInDb:async(e,t)=>{await a.UA.updateDocument("651a951c53cfe3fb41ce","651a9538bd918bd864f0",e.$id,{title:e.title,status:t})},addTask:async(t,s,n)=>{let d;if(n){let e=await uploadImage(n);e&&(d={bucketId:e.bucketId,fileId:e.$id})}let{$id:r}=await a.UA.createDocument("651a951c53cfe3fb41ce","651a9538bd918bd864f0",a.ID.unique(),{title:t,status:s,...d&&{image:JSON.stringify(d)}});e({newTaskInput:""}),e(e=>{let a=new Map(e.board.columns),n={$id:r,$createdAt:new Date().toISOString(),title:t,status:s,...d&&{image:d}},l=a.get(s);if(l){var o;null===(o=a.get(s))||void 0===o||o.todos.push(n)}else a.set(s,{id:s,todos:[n]});return{board:{columns:a}}})}}))},3234:function(e,t,s){"use strict";s.d(t,{a:function(){return n}});var a=s(4660);let n=(0,a.Ue)()(e=>({isOpen:!1,openModal:()=>e({isOpen:!0}),closeModal:()=>e({isOpen:!1})}))}},function(e){e.O(0,[216,175,453,971,864,744],function(){return e(e.s=3837)}),_N_E=e.O()}]);