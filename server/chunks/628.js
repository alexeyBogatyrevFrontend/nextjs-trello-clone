exports.id=628,exports.ids=[628],exports.modules={99299:(e,t,a)=>{Promise.resolve().then(a.bind(a,89793))},49723:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,19918,23)),Promise.resolve().then(a.t.bind(a,82057,23)),Promise.resolve().then(a.t.bind(a,46148,23)),Promise.resolve().then(a.t.bind(a,88359,23)),Promise.resolve().then(a.t.bind(a,51860,23)),Promise.resolve().then(a.t.bind(a,92427,23))},45618:(e,t,a)=>{"use strict";a.d(t,{ID:()=>s.ID,UA:()=>i,tO:()=>o});var s=a(70986);let n=new s.KU;n.setEndpoint("https://cloud.appwrite.io/v1").setProject("651a938298d077a2ffed"),new s.mR(n);let i=new s.Lg(n),o=new s.Ke(n)},89793:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>components_Modal});var s=a(60080),n=a(9885),i=a(20975),o=a(7860),l=a(78427),r=a(60335),d=a(53818),c=a(86373);let u=[{id:"todo",name:"Todo",description:"A new task to be completed",color:"bg-red-500"},{id:"inprogress",name:"In Progress",description:"A task that is currently being worked on",color:"bg-yellow-500"},{id:"done",name:"Done",description:"A task that has been completed",color:"bg-green-500"}],components_TaskTypeRadioGroup=()=>{let[e,t]=(0,r.Y)(e=>[e.newTaskType,e.setNewTaskType]);return s.jsx("div",{className:"w-full py-5",children:s.jsx("div",{className:"mx-auto w-full max-w-md",children:s.jsx(d.E,{value:e,onChange:e=>t(e),children:s.jsx("div",{className:"space-y-2",children:u.map(e=>s.jsx(d.E.Option,{value:e.id,className:({active:t,checked:a})=>`${t?"ring-2 ring-white ring-opacity-60 ring-offset-2 ring-offset-sky-300":""}
									${a?`${e.color} bg-opacity-75 text-white`:"bg-white"}
									relative flex cursor-pointer rounded-lg px-5 py-4 shadow-md focus:outline-none
									`,children:({active:t,checked:a})=>s.jsx(s.Fragment,{children:(0,s.jsxs)("div",{className:"flex w-full items-center justify-between",children:[s.jsx("div",{className:"flex items-center",children:(0,s.jsxs)("div",{className:"text-sm",children:[s.jsx(d.E.Label,{as:"p",className:`font-medium ${a?"text-white":"text-gray-900"}`,children:e.name}),s.jsx(d.E.Description,{as:"span",className:`inline ${a?"text-white":"to-gray-900"}`,children:s.jsx("span",{children:e.description})})]})}),a&&s.jsx("div",{className:"shrink-0 text-white",children:s.jsx(c.Z,{className:"h-6 w-6"})})]})})},e.id))})})})})};var m=a(52451),p=a.n(m),g=a(16702);let components_Modal=()=>{let e=(0,n.useRef)(null),[t,a]=(0,l.a)(e=>[e.isOpen,e.closeModal]),[d,c,u,m,b,f]=(0,r.Y)(e=>[e.newTaskInput,e.setNewTaskInput,e.image,e.setImage,e.addTask,e.newTaskType]);return s.jsx(i.u,{appear:!0,show:t,as:n.Fragment,children:(0,s.jsxs)(o.V,{as:"form",onSubmit:e=>{e.preventDefault(),d&&(b(d,f,u),m(null),a())},className:"relative z-10",onClose:a,children:[s.jsx(i.u.Child,{as:n.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),s.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:s.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:s.jsx(i.u.Child,{as:n.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,s.jsxs)(o.V.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[s.jsx(o.V.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900 pb-2",children:"Add a Task"}),s.jsx("div",{className:"mt-2",children:s.jsx("input",{type:"text",value:d,onChange:e=>c(e.target.value),placeholder:"Enter a task here...",className:"w-full border border-gray-300 rounded-md outline-none p-5"})}),s.jsx(components_TaskTypeRadioGroup,{}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("button",{type:"button",onClick:()=>{e.current?.click()},className:"w-full border border-gray-300 rounded-md outline-none p-5 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",children:[s.jsx(g.Z,{className:"h-6 w-6 mr-2 inline-block"}),"Upload Image"]}),u&&s.jsx(p(),{alt:"Uploaded Image",width:200,height:200,className:"w-full h-44 object-cover mt-2 filter hover:grayscale transition-all duration-150 cursor-not-allowed",src:URL.createObjectURL(u),onClick:()=>{m(null)}}),s.jsx("input",{type:"file",ref:e,hidden:!0,onChange:e=>{e.target.files[0].type.startsWith("image/")&&m(e.target.files[0])}})]}),s.jsx("div",{className:"mt-4",children:s.jsx("button",{type:"submit",disabled:!d,className:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:bg-gray-100 disabled:text-gray-300 disabled:cursor-not-allowed",children:"Add Task"})})]})})})})]})})}},60335:(e,t,a)=>{"use strict";a.d(t,{Y:()=>i});var s=a(45618);let getTodosGroupedByColumn=async()=>{let e=await s.UA.listDocuments("651a951c53cfe3fb41ce","651a9538bd918bd864f0"),t=e.documents,a=t.reduce((e,t)=>(e.get(t.status)||e.set(t.status,{id:t.status,todos:[]}),e.get(t.status).todos.push({$id:t.$id,$createdAt:t.$createdAt,title:t.title,status:t.status,...t.image&&{image:JSON.parse(t.image)}}),e),new Map),n=["todo","inprogress","done"];for(let e of n)a.get(e)||a.set(e,{id:e,todos:[]});let i=new Map(Array.from(a.entries()).sort((e,t)=>n.indexOf(e[0])-n.indexOf(t[0])));return{columns:i}},uploadImage=async e=>{if(!e)return;let t=await s.tO.createFile("651a965aa4c888a6b9dd",s.ID.unique(),e);return t};var n=a(99715);let i=(0,n.Ue)(e=>({board:{columns:new Map},searchString:"",setSearchString:t=>e({searchString:t}),getBoard:async()=>{let t=await getTodosGroupedByColumn();e({board:t})},newTaskInput:"",setNewTaskInput:t=>e({newTaskInput:t}),newTaskType:"todo",setNewTaskType:t=>e({newTaskType:t}),image:null,setImage:t=>e({image:t}),setBoardState:t=>e({board:t}),deleteTask:async(t,a,n)=>{let o=new Map(i.getState().board.columns);o.get(n)?.todos.splice(t,1),e({board:{columns:o}}),a.image&&await s.tO.deleteFile(a.image.bucketId,a.image.fileId),await s.UA.deleteDocument("651a951c53cfe3fb41ce","651a9538bd918bd864f0",a.$id)},updateTodoInDb:async(e,t)=>{await s.UA.updateDocument("651a951c53cfe3fb41ce","651a9538bd918bd864f0",e.$id,{title:e.title,status:t})},addTask:async(t,a,n)=>{let i;if(n){let e=await uploadImage(n);e&&(i={bucketId:e.bucketId,fileId:e.$id})}let{$id:o}=await s.UA.createDocument("651a951c53cfe3fb41ce","651a9538bd918bd864f0",s.ID.unique(),{title:t,status:a,...i&&{image:JSON.stringify(i)}});e({newTaskInput:""}),e(e=>{let s=new Map(e.board.columns),n={$id:o,$createdAt:new Date().toISOString(),title:t,status:a,...i&&{image:i}},l=s.get(a);return l?s.get(a)?.todos.push(n):s.set(a,{id:a,todos:[n]}),{board:{columns:s}}})}}))},78427:(e,t,a)=>{"use strict";a.d(t,{a:()=>n});var s=a(99715);let n=(0,s.Ue)()(e=>({isOpen:!1,openModal:()=>e({isOpen:!0}),closeModal:()=>e({isOpen:!1})}))},14984:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>RootLayout,metadata:()=>d});var s=a(48144),n=a(17536);let i=(0,n.createProxy)(String.raw`/Users/bogatyrev/pc/work/study/SonnySangha/nextjs-trello-clone/components/Modal.tsx`),{__esModule:o,$$typeof:l}=i,r=i.default;a(67272);let d={title:"Trello 2.0 Clone",description:"Generated by alexey.bogatyrev.frontend@gmail.com"};function RootLayout({children:e}){return s.jsx("html",{lang:"en",children:(0,s.jsxs)("body",{className:"bg-[#f5f6f8]",children:[e,s.jsx(r,{})]})})}},67272:()=>{}};